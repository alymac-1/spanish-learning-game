{"ast":null,"code":"let speechSynthesis = null;\nlet currentUtterance = null;\nexport const speakSpanish = (text, options = {}) => {\n  if (typeof window === 'undefined' || !window.speechSynthesis) {\n    throw new Error('Speech synthesis not supported in this environment');\n  }\n\n  // Cancel any ongoing speech\n  if (currentUtterance) {\n    window.speechSynthesis.cancel();\n  }\n  speechSynthesis = window.speechSynthesis;\n  const utterance = new SpeechSynthesisUtterance(text);\n\n  // Set Spanish language\n  utterance.lang = 'es-ES';\n\n  // Apply options\n  utterance.rate = options.rate || 0.95;\n  utterance.pitch = options.pitch || 1.0;\n  utterance.volume = options.volume || 1.0;\n  currentUtterance = utterance;\n  speechSynthesis.speak(utterance);\n  return utterance;\n};\nexport const handleStopPronunciation = () => {\n  if (typeof window !== 'undefined' && window.speechSynthesis) {\n    window.speechSynthesis.cancel();\n    currentUtterance = null;\n  }\n};\nexport const isSpeechSupported = () => {\n  return typeof window !== 'undefined' && 'speechSynthesis' in window;\n};","map":{"version":3,"names":["speechSynthesis","currentUtterance","speakSpanish","text","options","window","Error","cancel","utterance","SpeechSynthesisUtterance","lang","rate","pitch","volume","speak","handleStopPronunciation","isSpeechSupported"],"sources":["/Users/alasdairmacmillan/Claude/Spanish/src/utils/speechUtils.js"],"sourcesContent":["let speechSynthesis = null;\nlet currentUtterance = null;\n\nexport const speakSpanish = (text, options = {}) => {\n  if (typeof window === 'undefined' || !window.speechSynthesis) {\n    throw new Error('Speech synthesis not supported in this environment');\n  }\n\n  // Cancel any ongoing speech\n  if (currentUtterance) {\n    window.speechSynthesis.cancel();\n  }\n\n  speechSynthesis = window.speechSynthesis;\n  \n  const utterance = new SpeechSynthesisUtterance(text);\n  \n  // Set Spanish language\n  utterance.lang = 'es-ES';\n  \n  // Apply options\n  utterance.rate = options.rate || 0.95;\n  utterance.pitch = options.pitch || 1.0;\n  utterance.volume = options.volume || 1.0;\n\n  currentUtterance = utterance;\n  \n  speechSynthesis.speak(utterance);\n  \n  return utterance;\n};\n\nexport const handleStopPronunciation = () => {\n  if (typeof window !== 'undefined' && window.speechSynthesis) {\n    window.speechSynthesis.cancel();\n    currentUtterance = null;\n  }\n};\n\nexport const isSpeechSupported = () => {\n  return typeof window !== 'undefined' && 'speechSynthesis' in window;\n};\n"],"mappings":"AAAA,IAAIA,eAAe,GAAG,IAAI;AAC1B,IAAIC,gBAAgB,GAAG,IAAI;AAE3B,OAAO,MAAMC,YAAY,GAAGA,CAACC,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAClD,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAI,CAACA,MAAM,CAACL,eAAe,EAAE;IAC5D,MAAM,IAAIM,KAAK,CAAC,oDAAoD,CAAC;EACvE;;EAEA;EACA,IAAIL,gBAAgB,EAAE;IACpBI,MAAM,CAACL,eAAe,CAACO,MAAM,CAAC,CAAC;EACjC;EAEAP,eAAe,GAAGK,MAAM,CAACL,eAAe;EAExC,MAAMQ,SAAS,GAAG,IAAIC,wBAAwB,CAACN,IAAI,CAAC;;EAEpD;EACAK,SAAS,CAACE,IAAI,GAAG,OAAO;;EAExB;EACAF,SAAS,CAACG,IAAI,GAAGP,OAAO,CAACO,IAAI,IAAI,IAAI;EACrCH,SAAS,CAACI,KAAK,GAAGR,OAAO,CAACQ,KAAK,IAAI,GAAG;EACtCJ,SAAS,CAACK,MAAM,GAAGT,OAAO,CAACS,MAAM,IAAI,GAAG;EAExCZ,gBAAgB,GAAGO,SAAS;EAE5BR,eAAe,CAACc,KAAK,CAACN,SAAS,CAAC;EAEhC,OAAOA,SAAS;AAClB,CAAC;AAED,OAAO,MAAMO,uBAAuB,GAAGA,CAAA,KAAM;EAC3C,IAAI,OAAOV,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACL,eAAe,EAAE;IAC3DK,MAAM,CAACL,eAAe,CAACO,MAAM,CAAC,CAAC;IAC/BN,gBAAgB,GAAG,IAAI;EACzB;AACF,CAAC;AAED,OAAO,MAAMe,iBAAiB,GAAGA,CAAA,KAAM;EACrC,OAAO,OAAOX,MAAM,KAAK,WAAW,IAAI,iBAAiB,IAAIA,MAAM;AACrE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}